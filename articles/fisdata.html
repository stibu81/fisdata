<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to fisdata • fisdata</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to fisdata">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fisdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/fisdata.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stibu81/fisdata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="fisdata_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="fisdata_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="fisdata_files/d3-3.3.8/d3.min.js"></script><script src="fisdata_files/dagre-0.4.0/dagre-d3.min.js"></script><link href="fisdata_files/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet">
<script src="fisdata_files/mermaid-0.3.0/dist/mermaid.slim.min.js"></script><link href="fisdata_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="fisdata_files/chromatography-0.1/chromatography.js"></script><script src="fisdata_files/DiagrammeR-binding-1.0.11/DiagrammeR.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to fisdata</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/stibu81/fisdata/blob/main/vignettes/fisdata.Rmd" class="external-link"><code>vignettes/fisdata.Rmd</code></a></small>
      <div class="d-none name"><code>fisdata.Rmd</code></div>
    </div>

    
    
<p>fisdata makes it easy to download data from the <a href="https://www.fis-ski.com" class="external-link">FIS webpage</a> into tibbles. It provides
a variety of functions to query different types of data like athletes,
events, or race results.</p>
<div class="section level2">
<h2 id="terminology">Terminology<a class="anchor" aria-label="anchor" href="#terminology"></a>
</h2>
<p>In order to use the functionality of this package and understand the
results it returns, it is important to be familiar with its terminology.
It follows mostly the terminology used on the FIS page. Other than the
web page, it uses terms consistently and never uses the same term for
different things.</p>
<p>The following are the relevant terms with an example value for each.
Explanations for terms with obvious meaning are omitted.</p>
<table class="table">
<colgroup>
<col width="16%">
<col width="64%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th>Term</th>
<th>Explanation</th>
<th>Examples</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>athlete</td>
<td></td>
<td>Didier Cuche, Lara Gut-Behrami</td>
</tr>
<tr class="even">
<td>sector</td>
<td>the major groups of disciplines</td>
<td>Alpine Skiing, Cross-Country</td>
</tr>
<tr class="odd">
<td>discipline</td>
<td>a specific discipline</td>
<td>Downhill, Large Hill, Aerials</td>
</tr>
<tr class="even">
<td>brand</td>
<td>manufacturer of an athlete’s skis or snowboards</td>
<td>Stöckli, Head</td>
</tr>
<tr class="odd">
<td>competition</td>
<td>a competition in a single discipline and sector</td>
<td>Wengen Downhill 2025</td>
</tr>
<tr class="even">
<td>event</td>
<td>a set of one or more competitions in one or more disciplines taking
place during one or more days in a specific location during a
season</td>
<td>Wengen 2025</td>
</tr>
<tr class="odd">
<td>category</td>
<td>type of the event</td>
<td>World Cup, Olympic Winter Games</td>
</tr>
<tr class="even">
<td>standings</td>
<td>the overall ranking for a category or discipline within a
category</td>
<td>Overall alpine skiing World Cup standings 2025</td>
</tr>
</tbody>
</table>
<p>When filtering for sector, discipline, or category, a code is used
instead of the full description. See the datasets <code>sectors</code>,
<code>disciplines</code>, and <code>categories</code>, respectively, for
a list of available codes with a description.</p>
</div>
<div class="section level2">
<h2 id="available-querying-functions">Available Querying Functions<a class="anchor" aria-label="anchor" href="#available-querying-functions"></a>
</h2>
<p>fisdata offers the following functions to query different types of
data:</p>
<ul>
<li>
<code><a href="../reference/query_athletes.html">query_athletes()</a></code>: query athletes by name and other
attributes and obtain a table of matching athletes.</li>
<li>
<code><a href="../reference/query_results.html">query_results()</a></code>: query all competition results for a
single athlete.</li>
<li>
<code><a href="../reference/query_race.html">query_race()</a></code>: get the full results for a single
competition.</li>
<li>
<code><a href="../reference/query_events.html">query_events()</a></code>: query events by date, place, and other
attributes.</li>
<li>
<code><a href="../reference/query_competitions.html">query_competitions()</a></code>: obtain all individual
competitions that are associated with an event.</li>
<li>
<code><a href="../reference/query_standings.html">query_standings()</a></code>: get the cup standings with ranks and
points per discipline.</li>
</ul>
<p>Each function returns a tibble that contains instances of a given
type as its rows. The following diagram shows the types of tables that
can be created. Each node stands for a table with the label of the node
indicating the type of objects contained in the table. Each arrow is
labelled by the name of the function that returns the table that the
arrow is pointing to. Some functions require an instance of another type
as input, as indicated by the arrows. The three exceptions,
<code><a href="../reference/query_athletes.html">query_athletes()</a></code>, <code><a href="../reference/query_standings.html">query_standings()</a></code>, and
<code><a href="../reference/query_events.html">query_events()</a></code> are thus the usual entry points to start a
query.</p>
<div class="DiagrammeR html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:260px;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"diagram":"\ngraph LR\nA-->|\"query_standings()\"|AST(athlete<br>standings)\n\nS1[ ]-->|\"query_athletes()\"|A(athletes)\nA-->|\"query_results()\"|AR(athlete<br>results)\nAR-->|\"query_race()\"|CR(competition<br>results)\n\nS2[ ]-->|\"query_standings()\"|ST(standings)\nST-->|\"query_results()\"|AR\nST-->|\"query_standings()\"|AST\n\nS3[ ]-->|\"query_events()\"|E(events)\nE-->|\"query_competitions()\"|C(competitions)\nC-->|\"query_race()\"|CR\n\nCR-->|\"query_results()\"|AR\nCR-->|\"query_standings()\"|AST\n\nclassDef hiddenNode fill:#FFFFFF00,stroke:#FFFFFF00\nclass S1,S2,S3 hiddenNode\nclassDef dataNode fill:#fffbd6,stroke:#fcaf16,color:#002395\nclass A,AR,CR,E,C,CR,ST,AST dataNode\n"},"evals":[],"jsHooks":[]}</script><p>All the querying functions are cached, that is, if they are called
multiple times in the same session, the data is downloaded only once.
This leads to better performance and reduces the number of requests that
are sent to the FIS webpage.</p>
</div>
<div class="section level2">
<h2 id="running-a-query">Running a Query<a class="anchor" aria-label="anchor" href="#running-a-query"></a>
</h2>
<p>Since athletes are identified by a Competitor-ID and races by a
Race-ID that are usually not known to the user, it is generally easiest
to start a query by finding an athlete. For example, the following call
gets the information for Didier Cuche:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stibu81.github.io/fisdata/">fisdata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">cuche</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query_athletes.html">query_athletes</a></span><span class="op">(</span><span class="st">"cuche"</span>, <span class="st">"didier"</span><span class="op">)</span></span>
<span><span class="va">cuche</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">active</span><span class="op">:</span><span class="va">nation</span>, <span class="va">sector</span>, <span class="va">brand</span>, <span class="va">competitor_id</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;   active fis_code name         nation sector brand competitor_id</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> FALSE  510030   Cuche Didier SUI    AL     Head  11795</span></span></code></pre></div>
<p>The result includes the <code>competitor_id</code>, which is required
as input in order to query an athlete’s results.</p>
<p>With the object returned by <code><a href="../reference/query_athletes.html">query_athletes()</a></code>, it is now
possible to query all the race result of an athlete. Note that
<code><a href="../reference/query_results.html">query_results()</a></code> must be called with a single athlete. The
following query only obtains the results in downhill races:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cuche_res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query_results.html">query_results</a></span><span class="op">(</span><span class="va">cuche</span>, discipline <span class="op">=</span> <span class="st">"DH"</span><span class="op">)</span></span>
<span><span class="va">cuche_res</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">athlete</span><span class="op">:</span><span class="va">place</span>, <span class="va">category</span><span class="op">:</span><span class="va">rank</span>, <span class="va">race_id</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 303 × 7</span></span></span>
<span><span class="co">#&gt;    athlete      date       place      category  discipline  rank race_id</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Cuche Didier 2012-03-14 Schladming World Cup Downhill      17 66746  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Cuche Didier 2012-03-13 Schladming Training  Downhill       1 66744  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Cuche Didier 2012-03-03 Kvitfjell  World Cup Downhill      10 66811  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Cuche Didier 2012-03-01 Kvitfjell  Training  Downhill       2 66809  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Cuche Didier 2012-02-29 Kvitfjell  Training  Downhill       3 66810  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Cuche Didier 2012-02-11 Sochi      World Cup Downhill      12 66801  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Cuche Didier 2012-02-10 Sochi      Training  Downhill       7 66800  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Cuche Didier 2012-02-08 Sochi      Training  Downhill       2 66798  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Cuche Didier 2012-02-04 Chamonix   World Cup Downhill       7 66795  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Cuche Didier 2012-02-03 Chamonix   World Cup Downhill       3 66767  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 293 more rows</span></span></span></code></pre></div>
<p>The result includes the <code>race_id</code>, which is required as
input in order to query the full results of a race.</p>
<p>By extracting one of the races from the table, one can now obtain the
full results for that race. The following code gets the full result for
Didier Cuche’s last victory in Wengen:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wengen_res</span> <span class="op">&lt;-</span> <span class="va">cuche_res</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">place</span> <span class="op">==</span> <span class="st">"Wengen"</span>, <span class="va">rank</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/query_race.html">query_race</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">wengen_res</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">rank</span>, <span class="va">bib</span>, <span class="va">name</span><span class="op">:</span><span class="va">diff_time</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 70 × 7</span></span></span>
<span><span class="co">#&gt;     rank   bib name                birth_year nation time      diff_time</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;Period&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;Period&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1    18 Cuche Didier              <span style="text-decoration: underline;">1</span>974 SUI    1M 50.31S 0S       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2    12 Heel Werner               <span style="text-decoration: underline;">1</span>982 ITA    1M 51.17S 0.86S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3    15 Janka Carlo               <span style="text-decoration: underline;">1</span>986 SUI    1M 51.52S 1.21S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4     1 Jerman Andrej             <span style="text-decoration: underline;">1</span>978 SLO    1M 51.58S 1.27S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5     3 Nyman Steven              <span style="text-decoration: underline;">1</span>982 USA    1M 51.67S 1.36S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6    14 Scheiber Mario            <span style="text-decoration: underline;">1</span>983 AUT    1M 51.76S 1.45S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7    28 Streitberger Georg        <span style="text-decoration: underline;">1</span>981 AUT    1M 51.77S 1.46S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8    16 Walchhofer Michael        <span style="text-decoration: underline;">1</span>975 AUT    1M 51.79S 1.48S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     8    11 Kroell Klaus              <span style="text-decoration: underline;">1</span>980 AUT    1M 51.79S 1.48S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10    25 Innerhofer Christof       <span style="text-decoration: underline;">1</span>984 ITA    1M 51.85S 1.54S    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 60 more rows</span></span></span></code></pre></div>
<p>Alternatively, you may start by querying for an event. This finds the
Wengen races from the season 2024/25:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wengen2025</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query_events.html">query_events</a></span><span class="op">(</span>sector <span class="op">=</span> <span class="st">"AL"</span>, place <span class="op">=</span> <span class="st">"wengen"</span>, season <span class="op">=</span> <span class="fl">2025</span><span class="op">)</span></span>
<span><span class="va">wengen2025</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">start_date</span><span class="op">:</span><span class="va">genders</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 8</span></span></span>
<span><span class="co">#&gt;   start_date end_date   place  nation sector categories disciplines    genders</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2025-01-14 2025-01-19 Wengen SUI    AL     TRA / WC   4xDH / SL / SG M</span></span></code></pre></div>
<p>The result includes the <code>event_id</code>, which is required as
input in order to query all the competitions that took place during this
event:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wengen_races</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query_competitions.html">query_competitions</a></span><span class="op">(</span><span class="va">wengen2025</span><span class="op">)</span></span>
<span><span class="va">wengen_races</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">place</span><span class="op">:</span><span class="va">cancelled</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 8</span></span></span>
<span><span class="co">#&gt;   place  date       time  competition       sector category gender cancelled</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Wengen 2025-01-14 12:30 Downhill Training AL     TRA      M      FALSE    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Wengen 2025-01-15 12:30 Downhill Training AL     TRA      M      FALSE    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Wengen 2025-01-16 <span style="color: #BB0000;">NA</span>    Downhill Training AL     TRA      M      TRUE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Wengen 2025-01-17 12:30 Super G           AL     WC       M      FALSE    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Wengen 2025-01-18 12:45 Downhill          AL     WC       M      FALSE    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Wengen 2025-01-19 10:15 Slalom            AL     WC       M      FALSE</span></span></code></pre></div>
<p>This table now allows to query for the full race results (similar to
the output from <code><a href="../reference/query_results.html">query_results()</a></code>). For example, the results
for the Super G can be obtained as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sg_res</span> <span class="op">&lt;-</span> <span class="va">wengen_races</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">competition</span> <span class="op">==</span> <span class="st">"Super G"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/query_race.html">query_race</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">sg_res</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">rank</span>, <span class="va">bib</span>, <span class="va">name</span><span class="op">:</span><span class="va">diff_time</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 47 × 8</span></span></span>
<span><span class="co">#&gt;     rank   bib name               brand    birth_year nation time      diff_time</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;Period&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;Period&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1     3 Von Allmen Franjo  Head           <span style="text-decoration: underline;">2</span>001 SUI    1M 47.65S 0S       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2     6 Kriechmayr Vincent Head           <span style="text-decoration: underline;">1</span>991 AUT    1M 47.75S 0.1S     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3    11 Rogentin Stefan    Fischer        <span style="text-decoration: underline;">1</span>994 SUI    1M 48.23S 0.58S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4     1 Crawford James     Head           <span style="text-decoration: underline;">1</span>997 CAN    1M 48.27S 0.62S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5     9 Paris Dominik      Nordica        <span style="text-decoration: underline;">1</span>989 ITA    1M 48.28S 0.63S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6     8 Casse Mattia       Rossign…       <span style="text-decoration: underline;">1</span>990 ITA    1M 48.57S 0.92S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7    13 Odermatt Marco     Stoeckli       <span style="text-decoration: underline;">1</span>997 SUI    1M 48.69S 1.04S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8    16 Alexander Cameron  Rossign…       <span style="text-decoration: underline;">1</span>997 CAN    1M 48.78S 1.13S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9     2 Monney Alexis      Stoeckli       <span style="text-decoration: underline;">2</span>000 SUI    1M 48.92S 1.27S    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10    26 Feurstein Lukas    Head           <span style="text-decoration: underline;">2</span>001 AUT    1M 48.97S 1.32S    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 37 more rows</span></span></span></code></pre></div>
<p>Note that the objects created by the querying functions always
include the URL that was downloaded. This URL can be obtained as
follows:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/show_url.html">show_url</a></span><span class="op">(</span><span class="va">cuche_res</span><span class="op">)</span></span>
<span><span class="co">#&gt; https://www.fis-ski.com/DB/general/athlete-biography.html?sectorcode=AL&amp;seasoncode=&amp;competitorid=11795&amp;type=result&amp;categorycode=&amp;sort=&amp;place=&amp;disciplinecode=DH&amp;position=&amp;limit=2000</span></span></code></pre></div>
<p>You can copy this address into a browser in order to see the same
data as they are presented on the FIS web site. To make this as easy as
possible, <code><a href="../reference/show_url.html">show_url()</a></code> automatically copies the URL into the
clip board, when called from an interactive R session.</p>
</div>
<div class="section level2">
<h2 id="known-limitations">Known Limitations<a class="anchor" aria-label="anchor" href="#known-limitations"></a>
</h2>
<p>Querying athletes and results is expected to work for all sectors and
disciplines. Querying races, however, is more difficult, since different
types of races have their results rendered in different form on the FIS
web site. fisdata is able to handle the results of many common types of
races but it is expected to fail for some types that are not yet
covered. For example, it usually cannot handle team races:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/query_athletes.html">query_athletes</a></span><span class="op">(</span><span class="st">"von allmen"</span>, <span class="st">"franjo"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/query_results.html">query_results</a></span><span class="op">(</span>category <span class="op">=</span> <span class="st">"WSC"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">discipline</span> <span class="op">==</span> <span class="st">"Team Combined"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/query_race.html">query_race</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in query_race(.): <span style="color: #BBBB00;">!</span> The data contains some fields unknown to fisdata.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Affected column: 'name'</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> These columns might not be processed as expected.</span></span>
<span><span class="co">#&gt; Warning in process_race_column(name, race_df): NAs introduced by coercion</span></span>
<span><span class="co">#&gt; Warning in process_race_column(name, race_df): NAs introduced by coercion</span></span>
<span><span class="co">#&gt; Warning in process_race_column(name, race_df): NAs introduced by coercion</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `dplyr::as_tibble()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Column names `nation` and `time` must not be duplicated.</span></span>
<span><span class="co">#&gt; Use `.name_repair` to specify repair.</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Caused by error in `repaired_names()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Names must be unique.</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> These names are duplicated:</span></span>
<span><span class="co">#&gt;   * "nation" at locations 7 and 8.</span></span>
<span><span class="co">#&gt;   * "time" at locations 9 and 10.</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stefan Lanz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
